# 🛬 탑승구

해당 문제가 서로소 집합 알고리즘 파트에 속해있었기 때문에 서로소 집합 알고리즘을 사용해야 한다는 것은 이미 알고 있었다. 하지만, 어떤 이유에서 해당 알고리즘으로 접근했는지 또 어떻게 풀이해나가야 하는지 좀처럼 생각해내는 것이 어려웠다...😅 결국 풀이 과정을 참고하게 되었고 이에 대해 이해한 생각들을 바탕으로 코드화시킬 수 있었다.

### 🔸 문제 요약

> 문제가 될 수 있으므로 상세한 내용은 해당 도서를 참고해주세요.

    1번 ~ G번까지 G개의 탑승구가 있는 공항에 P개의 비행기가 차례로 도착할 예정이다.
    i번째 비행기는 1 ~ g[i](1 <= g[i] <= G)번 탑승구 중 하나에 영구 도킹해야 하며,
    다른 비행기가 도킹하지 않은 탑승구에만 도킹 가능하다.
    P개의 비행기를 순서대로 도킹하다가 어떠한 탑승구에도 도킹할 수 없는 비행기가 나오면
    공항의 운행을 중지한다고 할 때 최대 몇 대의 비행기를 도킹할 수 있나?

### 🔸 풀이 과정

예시를 통해 풀이 과정을 알아보도록 하자. 공항에 존재하는 탑승구는 5개라고 가정하고 4대의 비행기가 차례로 들어온다고 생각해보자. 또, 주어지는 각 비행기가 도킹 가능한 탑승구 g[i]는 각각 3, 3, 1, 2이다. (g[i]의 의미는 3일 경우 1 ~ 3번 탑승구 중 하나와 도킹 가능하다는 것을 의미한다.)

우선, 공항의 각 탑승구를 각각 서로소 집합으로 생각하고 서로소 집합 테이블로 표현하면 다음과 같이 표현할 수 있다. (0번 탑승구는 도킹이 불가능하다는 것을 의미한다.)

|   탑승구    |  0  |  1  |  2  |  3  |  4  |  5  |
| :---------: | :-: | :-: | :-: | :-: | :-: | :-: |
| 다음 탑승구 |  0  |  1  |  2  |  3  |  4  |  5  |

이때, 다음에 들어오는 비행기의 도킹 탑승구를 쉽게 알 수 있도록 부모 노드의 명칭을 '다음 탑승구'라고 정의하였다.

다음으로, 도킹 가능한 탑승구 번호가 주어지면 해당 비행기를 가능한 높은 번호의 탑승구부터 먼저 도킹시키고, 도킹한 탑승구는 바로 옆 낮은 번호의 탑승구와 합집합 연산을 수행한다. 이렇게 합집합 연산을 수행함으로써 다음 도착하는 비행기가 도킹할 수 있는 탑승구 범위 내에서 도킹 가능한 탑승구가 남아있는지 확인할 수 있게 된다. 이를 현재 주어진 상황에서 차례로 수행해보면

1. 첫 번째 비행기는 1 ~ 3번 탑승구까지 도킹이 가능하므로 3번 탑승구에 도킹시키고 바로 옆의 2번 탑승구와 합집합 연산을 수행한다.

   |   탑승구    |  0  |  1  |  2  |  3  |  4  |  5  |
   | :---------: | :-: | :-: | :-: | :-: | :-: | :-: |
   | 다음 탑승구 |  0  |  1  |  2  |  2  |  4  |  5  |

2. 두 번째 비행기 역시 1 ~ 3번 탑승구까지 도킹이 가능하지만 현재 3번 탑승구의 루트 노드 즉, 다음 탑승구가 2번을 가리키므로 해당 비행기는 2번에 도킹시키고 2번 탑승구는 1번 탑승구와 합집합 연산을 수행한다.

   |   탑승구    |  0  |  1  |  2  |  3  |  4  |  5  |
   | :---------: | :-: | :-: | :-: | :-: | :-: | :-: |
   | 다음 탑승구 |  0  |  1  |  1  |  2  |  4  |  5  |

3. 세 번째 비행기는 1번 탑승구에만 도킹이 가능하므로 1번 탑승구에 도킹시키고 1번 탑승구와 0번 탑승구를 합집합 연산한다.

   |   탑승구    |  0  |  1  |  2  |  3  |  4  |  5  |
   | :---------: | :-: | :-: | :-: | :-: | :-: | :-: |
   | 다음 탑승구 |  0  |  0  |  1  |  2  |  4  |  5  |

4. 네 번째 비행기는 1 ~ 2번 탑승구까지 도킹이 가능하다. 하지만 현재 2번 탑승구의 루트 노드인 다음 탑승구가 0번을 가리키므로 해당 비행기를 도킹할 탑승구는 더이상 남아있지 않다.

따라서, 위 상황에서 최대 도킹 가능한 비행기는 총 3대가 된다.

### 🔸 소스 코드

- 다음은 위 풀이 과정을 구현한 [소스 코드](gate.py)이다.
